--- 
import { Image } from "astro:assets";

interface Props {
    avatar: ImageMetadata;
    name: string;
    width?: number;
    height?: number;
    quality?: 'low' | 'mid' | 'high' | 'max';
    shadow?: boolean;
}

const { avatar, name, width=200, height=200, quality="mid", shadow=false } = Astro.props;

---
    <Image
        class:list={[
            'avatar-image',
            shadow && 'shadow'
        ]}
        src={avatar}
        alt={`Avatar of ${name}`}
        width={width}
        height={height}
        quality={quality}
        format='webp'
        transition:name={`avatar-${name}`}
    />

<style>
    .avatar-image {
        border-radius: 50%;
        filter: grayscale(30%);
        background-size: cover;
        background-position: center;
    }
    .shadow {
        box-shadow: 0 0 10px var(--secondary);
    }
</style>